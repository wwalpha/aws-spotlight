{
  "eventVersion": "1.08",
  "userIdentity": {
    "type": "AssumedRole",
    "principalId": "AROA2KEX3JLI2OU3QHN26:ktou",
    "arn": "arn:aws:sts::999999999999:assumed-role/KTOU_SwitchRole/ktou",
    "accountId": "999999999999",
    "accessKeyId": "ASIA2KEX3JLI6F2WY2N2",
    "sessionContext": {
      "sessionIssuer": {
        "type": "Role",
        "principalId": "AROA2KEX3JLI2OU3QHN26",
        "arn": "arn:aws:iam::999999999999:role/KTOU_SwitchRole",
        "accountId": "999999999999",
        "userName": "KTOU_SwitchRole"
      },
      "webIdFederationData": {},
      "attributes": { "mfaAuthenticated": "false", "creationDate": "2021-01-27T07:59:08Z" }
    }
  },
  "eventTime": "2021-01-27T08:53:11Z",
  "eventSource": "synthetics.amazonaws.com",
  "eventName": "CreateCanary",
  "awsRegion": "ap-northeast-1",
  "sourceIPAddress": "165.225.110.166",
  "userAgent": "aws-internal/3 aws-sdk-java/1.11.930 Linux/4.9.230-0.1.ac.223.84.332.metal1.x86_64 OpenJDK_64-Bit_Server_VM/25.275-b01 java/1.8.0_275 vendor/Oracle_Corporation",
  "requestParameters": {
    "ExecutionRoleArn": "arn:aws:iam::999999999999:role/service-role/CloudWatchSyntheticsRole-test-446-cde5b1eff6d6",
    "Schedule": { "Expression": "rate(1 minute)" },
    "SuccessRetentionPeriodInDays": 31,
    "RuntimeVersion": "syn-nodejs-2.2",
    "RunConfig": { "ActiveTracing": false },
    "Code": {
      "ZipFile": "UEsDBAoAAAAAAKVGO1IAAAAAAAAAAAAAAAAHAAAAbm9kZWpzL1BLAwQKAAAAAAClRjtSAAAAAAAAAAAAAAAAFAAAAG5vZGVqcy9ub2RlX21vZHVsZXMvUEsDBAoAAAAAAKVGO1JC6PF2ZQQAAGUEAAAoAAAAbm9kZWpzL25vZGVfbW9kdWxlcy9wYWdlTG9hZEJsdWVwcmludC5qc3ZhciBzeW50aGV0aWNzID0gcmVxdWlyZSgnU3ludGhldGljcycpOwpjb25zdCBsb2cgPSByZXF1aXJlKCdTeW50aGV0aWNzTG9nZ2VyJyk7Cgpjb25zdCBwYWdlTG9hZEJsdWVwcmludCA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKCiAgICAvLyBJTlNFUlQgVVJMIGhlcmUKICAgIGNvbnN0IFVSTCA9ICJodHRwczovL3lhaG9vLmNvLmpwIjsKCiAgICAvLyBTZXQgc2NyZWVuc2hvdCBvcHRpb24KICAgIGNvbnN0IHRha2VTY3JlZW5zaG90ID0gZmFsc2U7CgogICAgbGV0IHBhZ2UgPSBhd2FpdCBzeW50aGV0aWNzLmdldFBhZ2UoKTsKICAgIC8vWW91IGNhbiBjdXN0b21pemUgdGhlIHdhaXQgY29uZGl0aW9uIGhlcmUuIEZvciBpbnN0YW5jZSwKICAgIC8vdXNpbmcgJ25ldHdvcmtpZGxlMicgbWF5IGJlIGxlc3MgcmVzdHJpY3RpdmUuCiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBhZ2UuZ290byhVUkwsIHt3YWl0VW50aWw6ICdkb21jb250ZW50bG9hZGVkJywgdGltZW91dDogMzAwMDB9KTsKICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICB0aHJvdyAiRmFpbGVkIHRvIGxvYWQgcGFnZSEiOwogICAgfQogICAgLy9XYWl0IGZvciBwYWdlIHRvIHJlbmRlci4KICAgIC8vSW5jcmVhc2Ugb3IgZGVjcmVhc2Ugd2FpdCB0aW1lIGJhc2VkIG9uIGVuZHBvaW50IGJlaW5nIG1vbml0b3JlZC4KICAgIGF3YWl0IHBhZ2Uud2FpdEZvcigxNTAwMCk7CgogICAgaWYgKHRha2VTY3JlZW5zaG90KSB7CiAgICAgICAgYXdhaXQgc3ludGhldGljcy50YWtlU2NyZWVuc2hvdCgnbG9hZGVkJywgJ2xvYWRlZCcpOwogICAgfQogICAgbGV0IHBhZ2VUaXRsZSA9IGF3YWl0IHBhZ2UudGl0bGUoKTsKICAgIGxvZy5pbmZvKCdQYWdlIHRpdGxlOiAnICsgcGFnZVRpdGxlKTsKCiAgICAvL0lmIHRoZSByZXNwb25zZSBzdGF0dXMgY29kZSBpcyBub3QgYSAyeHggc3VjY2VzcyBjb2RlCiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzKCkgPCAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzKCkgPiAyOTkpIHsKICAgICAgICB0aHJvdyAiRmFpbGVkIHRvIGxvYWQgcGFnZSEiOwogICAgfQp9OwoKZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKCkgPT4gewogICAgcmV0dXJuIGF3YWl0IHBhZ2VMb2FkQmx1ZXByaW50KCk7Cn07ClBLAQIUAAoAAAAAAKVGO1IAAAAAAAAAAAAAAAAHAAAAAAAAAAAAEAAAAAAAAABub2RlanMvUEsBAhQACgAAAAAApUY7UgAAAAAAAAAAAAAAABQAAAAAAAAAAAAQAAAAJQAAAG5vZGVqcy9ub2RlX21vZHVsZXMvUEsBAhQACgAAAAAApUY7UkLo8XZlBAAAZQQAACgAAAAAAAAAAAAAAAAAVwAAAG5vZGVqcy9ub2RlX21vZHVsZXMvcGFnZUxvYWRCbHVlcHJpbnQuanNQSwUGAAAAAAMAAwDNAAAAAgUAAAAA",
      "Handler": "pageLoadBlueprint.handler"
    },
    "ArtifactS3Location": "s3://onecloud-reserved-bucket2",
    "Tags": { "blueprint": "heartbeat" },
    "Name": "canary-test",
    "FailureRetentionPeriodInDays": 31
  },
  "responseElements": {
    "Canary": {
      "ArtifactS3Location": "onecloud-reserved-bucket2",
      "Code": { "Handler": "pageLoadBlueprint.handler" },
      "ExecutionRoleArn": "arn:aws:iam::999999999999:role/service-role/CloudWatchSyntheticsRole-test-446-cde5b1eff6d6",
      "FailureRetentionPeriodInDays": 31,
      "Id": "0880ab02-bc03-4a0c-9e00-52f62e4352b8",
      "Name": "canary-test",
      "RunConfig": { "ActiveTracing": false, "MemoryInMB": 1000, "TimeoutInSeconds": 60 },
      "RuntimeVersion": "syn-nodejs-2.2",
      "Schedule": { "DurationInSeconds": 0, "Expression": "rate(1 minute)" },
      "Status": { "State": "CREATING" },
      "SuccessRetentionPeriodInDays": 31,
      "Tags": { "blueprint": "heartbeat" },
      "Timeline": { "Created": 1611737591.765, "LastModified": 1611737591.765 }
    }
  },
  "requestID": "49069cd9-3aa9-40d5-8a77-2afc95c9e6e6",
  "eventID": "30e6541d-f815-468c-8765-e1b7950b0ca9",
  "readOnly": false,
  "eventType": "AwsApiCall",
  "managementEvent": true,
  "eventCategory": "Management",
  "recipientAccountId": "999999999999"
}
