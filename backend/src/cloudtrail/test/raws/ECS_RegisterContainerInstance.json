{
  "eventVersion": "1.08",
  "userIdentity": {
    "type": "AssumedRole",
    "principalId": "AROA2KEX3JLIUTLT5X4BI:i-0cc735a31b13bb1da",
    "arn": "arn:aws:sts::999999999999:assumed-role/ecsInstanceRole/i-0cc735a31b13bb1da",
    "accountId": "999999999999",
    "accessKeyId": "ASIA2KEX3JLISXOYUFYH",
    "sessionContext": {
      "sessionIssuer": {
        "type": "Role",
        "principalId": "AROA2KEX3JLIUTLT5X4BI",
        "arn": "arn:aws:iam::999999999999:role/ecsInstanceRole",
        "accountId": "999999999999",
        "userName": "ecsInstanceRole"
      },
      "webIdFederationData": {},
      "attributes": { "mfaAuthenticated": "false", "creationDate": "2021-01-21T01:38:22Z" },
      "ec2RoleDelivery": "2.0"
    }
  },
  "eventTime": "2021-01-21T01:38:47Z",
  "eventSource": "ecs.amazonaws.com",
  "eventName": "RegisterContainerInstance",
  "awsRegion": "ap-northeast-1",
  "sourceIPAddress": "18.178.229.218",
  "userAgent": "Amazon ECS Agent - v1.49.0 (206fdadf) (linux) (+http://aws.amazon.com/ecs/)",
  "requestParameters": {
    "cluster": "ecs-on-ec2",
    "instanceIdentityDocument": "{\n  \"accountId\" : \"999999999999\",\n  \"architecture\" : \"x86_64\",\n  \"availabilityZone\" : \"ap-northeast-1a\",\n  \"billingProducts\" : null,\n  \"devpayProductCodes\" : null,\n  \"marketplaceProductCodes\" : null,\n  \"imageId\" : \"ami-0ccf28d7b4966979d\",\n  \"instanceId\" : \"i-0cc735a31b13bb1da\",\n  \"instanceType\" : \"t3.small\",\n  \"kernelId\" : null,\n  \"pendingTime\" : \"2021-01-21T01:38:14Z\",\n  \"privateIp\" : \"10.0.2.194\",\n  \"ramdiskId\" : null,\n  \"region\" : \"ap-northeast-1\",\n  \"version\" : \"2017-09-30\"\n}",
    "instanceIdentityDocumentSignature": "ZdO/TLCjCT+ZbjYMW9SJKrQzJYJM92saUNhs8fnL1tOb7KTC1ckvxCcGMy6EKli3oBR6nKGh3lX3\nyPg79jc4APB/ByD50dabxpX8NPlsGgM55Zh/jeHfKLRC1z6/ZG9pC74Ss8uSnkRMlwL7vNpl/4kf\n3pPixYVDPXjRulm8DzA=",
    "totalResources": [
      { "name": "CPU", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 2048 },
      { "name": "MEMORY", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 1955 },
      {
        "name": "PORTS",
        "type": "STRINGSET",
        "doubleValue": 0,
        "longValue": 0,
        "integerValue": 0,
        "stringSetValue": ["22", "2375", "2376", "51678", "51679"]
      },
      {
        "name": "PORTS_UDP",
        "type": "STRINGSET",
        "doubleValue": 0,
        "longValue": 0,
        "integerValue": 0,
        "stringSetValue": []
      }
    ],
    "attributes": [
      { "name": "ecs.capability.private-registry-authentication.secretsmanager" },
      { "name": "ecs.capability.secrets.ssm.environment-variables" },
      { "name": "ecs.capability.secrets.ssm.bootstrap.log-driver" },
      { "name": "ecs.capability.ecr-endpoint" },
      { "name": "ecs.capability.secrets.asm.environment-variables" },
      { "name": "ecs.capability.secrets.asm.bootstrap.log-driver" },
      { "name": "ecs.capability.container-ordering" },
      { "name": "ecs.capability.full-sync" },
      { "name": "ecs.capability.env-files.s3" },
      { "name": "com.amazonaws.ecs.capability.privileged-container" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.17" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.18" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.19" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.20" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.21" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.22" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.23" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.24" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.25" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.26" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.27" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.28" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.29" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.30" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.31" },
      { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.32" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.json-file" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.syslog" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.awslogs" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.fluentd" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.none" },
      { "name": "com.amazonaws.ecs.capability.task-iam-role" },
      { "name": "com.amazonaws.ecs.capability.task-iam-role-network-host" },
      { "name": "ecs.capability.task-cpu-mem-limit" },
      { "name": "ecs.capability.task-eni" },
      { "name": "ecs.capability.task-eni.ipv6" },
      { "name": "ecs.capability.cni-plugin-version", "value": "55b2ae77-2020.09.0" },
      { "name": "ecs.capability.task-eni-trunking" },
      { "name": "ecs.capability.branch-cni-plugin-version", "value": "a21d3a41-" },
      { "name": "com.amazonaws.ecs.capability.ecr-auth" },
      { "name": "ecs.capability.execution-role-ecr-pull" },
      { "name": "ecs.capability.container-health-check" },
      { "name": "ecs.capability.execution-role-awslogs" },
      { "name": "ecs.capability.docker-plugin.local" },
      { "name": "ecs.capability.docker-plugin.amazon-ecs-volume-plugin" },
      { "name": "ecs.capability.pid-ipc-namespace-sharing" },
      { "name": "ecs.capability.aws-appmesh" },
      { "name": "ecs.capability.task-eia" },
      { "name": "ecs.capability.task-eia.optimized-cpu" },
      { "name": "ecs.capability.firelens.fluentd" },
      { "name": "ecs.capability.firelens.fluentbit" },
      { "name": "com.amazonaws.ecs.capability.logging-driver.awsfirelens" },
      { "name": "ecs.capability.efs" },
      { "name": "ecs.capability.firelens.options.config.file" },
      { "name": "ecs.capability.firelens.options.config.s3" },
      { "name": "ecs.capability.efsAuth" },
      { "name": "ecs.vpc-id", "value": "vpc-0f1e12c219f232b46" },
      { "name": "ecs.subnet-id", "value": "subnet-0463e28fe18a6f599" },
      { "name": "ecs.os-type", "value": "linux" }
    ]
  },
  "responseElements": {
    "containerInstance": {
      "containerInstanceArn": "arn:aws:ecs:ap-northeast-1:999999999999:container-instance/ecs-on-ec2/e2660179ea144b3b87a2a5ff6279b7f3",
      "ec2InstanceId": "i-0cc735a31b13bb1da",
      "version": 1,
      "versionInfo": {},
      "remainingResources": [
        { "name": "CPU", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 2048 },
        { "name": "MEMORY", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 1955 },
        {
          "name": "PORTS",
          "type": "STRINGSET",
          "doubleValue": 0,
          "longValue": 0,
          "integerValue": 0,
          "stringSetValue": ["22", "2376", "2375", "51678", "51679"]
        },
        {
          "name": "PORTS_UDP",
          "type": "STRINGSET",
          "doubleValue": 0,
          "longValue": 0,
          "integerValue": 0,
          "stringSetValue": []
        }
      ],
      "registeredResources": [
        { "name": "CPU", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 2048 },
        { "name": "MEMORY", "type": "INTEGER", "doubleValue": 0, "longValue": 0, "integerValue": 1955 },
        {
          "name": "PORTS",
          "type": "STRINGSET",
          "doubleValue": 0,
          "longValue": 0,
          "integerValue": 0,
          "stringSetValue": ["22", "2376", "2375", "51678", "51679"]
        },
        {
          "name": "PORTS_UDP",
          "type": "STRINGSET",
          "doubleValue": 0,
          "longValue": 0,
          "integerValue": 0,
          "stringSetValue": []
        }
      ],
      "status": "ACTIVE",
      "agentConnected": true,
      "runningTasksCount": 0,
      "pendingTasksCount": 0,
      "attributes": [
        { "name": "ecs.capability.secrets.asm.environment-variables" },
        { "name": "ecs.capability.branch-cni-plugin-version", "value": "a21d3a41-" },
        { "name": "ecs.ami-id", "value": "ami-0ccf28d7b4966979d" },
        { "name": "ecs.capability.secrets.asm.bootstrap.log-driver" },
        { "name": "ecs.capability.task-eia.optimized-cpu" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.none" },
        { "name": "ecs.capability.ecr-endpoint" },
        { "name": "ecs.capability.docker-plugin.local" },
        { "name": "ecs.capability.task-cpu-mem-limit" },
        { "name": "ecs.capability.secrets.ssm.bootstrap.log-driver" },
        { "name": "ecs.capability.efsAuth" },
        { "name": "ecs.capability.full-sync" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.30" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.31" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.32" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.fluentd" },
        { "name": "ecs.capability.firelens.options.config.file" },
        { "name": "ecs.availability-zone", "value": "ap-northeast-1a" },
        { "name": "ecs.capability.aws-appmesh" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.awslogs" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.24" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.25" },
        { "name": "ecs.capability.task-eni-trunking" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.26" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.27" },
        { "name": "com.amazonaws.ecs.capability.privileged-container" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.28" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.29" },
        { "name": "ecs.cpu-architecture", "value": "x86_64" },
        { "name": "com.amazonaws.ecs.capability.ecr-auth" },
        { "name": "ecs.capability.firelens.fluentbit" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.20" },
        { "name": "ecs.os-type", "value": "linux" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.21" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.22" },
        { "name": "ecs.capability.private-registry-authentication.secretsmanager" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.23" },
        { "name": "ecs.capability.task-eia" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.syslog" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.awsfirelens" },
        { "name": "ecs.capability.firelens.options.config.s3" },
        { "name": "com.amazonaws.ecs.capability.logging-driver.json-file" },
        { "name": "ecs.capability.execution-role-awslogs" },
        { "name": "ecs.vpc-id", "value": "vpc-0f1e12c219f232b46" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.17" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.18" },
        { "name": "com.amazonaws.ecs.capability.docker-remote-api.1.19" },
        { "name": "ecs.capability.docker-plugin.amazon-ecs-volume-plugin" },
        { "name": "ecs.capability.task-eni" },
        { "name": "ecs.capability.firelens.fluentd" },
        { "name": "ecs.capability.efs" },
        { "name": "ecs.capability.execution-role-ecr-pull" },
        { "name": "ecs.capability.task-eni.ipv6" },
        { "name": "ecs.capability.container-health-check" },
        { "name": "ecs.subnet-id", "value": "subnet-0463e28fe18a6f599" },
        { "name": "ecs.instance-type", "value": "t3.small" },
        { "name": "com.amazonaws.ecs.capability.task-iam-role-network-host" },
        { "name": "ecs.capability.container-ordering" },
        { "name": "ecs.capability.cni-plugin-version", "value": "55b2ae77-2020.09.0" },
        { "name": "ecs.capability.env-files.s3" },
        { "name": "ecs.capability.secrets.ssm.environment-variables" },
        { "name": "ecs.capability.pid-ipc-namespace-sharing" },
        { "name": "com.amazonaws.ecs.capability.task-iam-role" }
      ],
      "registeredAt": "Jan 21, 2021 1:38:47 AM",
      "attachments": [],
      "tags": []
    }
  },
  "requestID": "80b15a29-4d7e-437a-8f6d-9a42c7492e2e",
  "eventID": "79aa3109-2bc6-4250-83e6-0008a8294732",
  "readOnly": false,
  "eventType": "AwsApiCall",
  "managementEvent": true,
  "eventCategory": "Management",
  "recipientAccountId": "999999999999"
}
